{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0; // Used to avoid using Jest's fake timers and Date.now mocks\n// See https://github.com/TheBrainFamily/wait-for-expect/issues/4 and\n// https://github.com/TheBrainFamily/wait-for-expect/issues/12 for more info\n\nvar _ref = typeof window !== \"undefined\" ? window : global,\n    setTimeout = _ref.setTimeout;\n\nvar defaults = {\n  timeout: 4500,\n  interval: 50\n};\n/**\n * Waits for the expectation to pass and returns a Promise\n *\n * @param  expectation  Function  Expectation that has to complete without throwing\n * @param  timeout  Number  Maximum wait interval, 4500ms by default\n * @param  interval  Number  Wait-between-retries interval, 50ms by default\n * @return  Promise  Promise to return a callback result\n */\n\nvar waitForExpect = function waitForExpect(expectation) {\n  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaults.timeout;\n  var interval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaults.interval; // eslint-disable-next-line no-param-reassign\n\n  if (interval < 1) interval = 1;\n  var maxTries = Math.ceil(timeout / interval);\n  var tries = 0;\n  return new Promise(function (resolve, reject) {\n    var rejectOrRerun = function rejectOrRerun(error) {\n      if (tries > maxTries) {\n        reject(error);\n        return;\n      } // eslint-disable-next-line no-use-before-define\n\n\n      setTimeout(runExpectation, interval);\n    };\n\n    function runExpectation() {\n      tries += 1;\n\n      try {\n        Promise.resolve(expectation()).then(function () {\n          return resolve();\n        }).catch(rejectOrRerun);\n      } catch (error) {\n        rejectOrRerun(error);\n      }\n    }\n\n    setTimeout(runExpectation, 0);\n  });\n};\n\nvar _default = Object.assign(waitForExpect, {\n  defaults: defaults\n});\n\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"sources":["/node_modules/wait-for-expect/lib/index.js"],"names":["Object","defineProperty","exports","value","default","_ref","window","global","setTimeout","defaults","timeout","interval","waitForExpect","expectation","arguments","length","undefined","maxTries","Math","ceil","tries","Promise","resolve","reject","rejectOrRerun","error","runExpectation","then","catch","_default","assign","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB,C,CAEA;AACA;AACA;;AACA,IAAIC,IAAI,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyCC,MAApD;AAAA,IACIC,UAAU,GAAGH,IAAI,CAACG,UADtB;;AAGA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,OAAO,EAAE,IADI;AAEbC,EAAAA,QAAQ,EAAE;AAFG,CAAf;AAIA;;;;;;;;;AASA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,WAAvB,EAAoC;AACtD,MAAIH,OAAO,GAAGI,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEL,QAAQ,CAACC,OAA3F;AACA,MAAIC,QAAQ,GAAGG,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEL,QAAQ,CAACE,QAA5F,CAFsD,CAGtD;;AACA,MAAIA,QAAQ,GAAG,CAAf,EAAkBA,QAAQ,GAAG,CAAX;AAClB,MAAIM,QAAQ,GAAGC,IAAI,CAACC,IAAL,CAAUT,OAAO,GAAGC,QAApB,CAAf;AACA,MAAIS,KAAK,GAAG,CAAZ;AACA,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,QAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAChD,UAAIL,KAAK,GAAGH,QAAZ,EAAsB;AACpBM,QAAAA,MAAM,CAACE,KAAD,CAAN;AACA;AACD,OAJ+C,CAI9C;;;AAGFjB,MAAAA,UAAU,CAACkB,cAAD,EAAiBf,QAAjB,CAAV;AACD,KARD;;AAUA,aAASe,cAAT,GAA0B;AACxBN,MAAAA,KAAK,IAAI,CAAT;;AAEA,UAAI;AACFC,QAAAA,OAAO,CAACC,OAAR,CAAgBT,WAAW,EAA3B,EAA+Bc,IAA/B,CAAoC,YAAY;AAC9C,iBAAOL,OAAO,EAAd;AACD,SAFD,EAEGM,KAFH,CAESJ,aAFT;AAGD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdD,QAAAA,aAAa,CAACC,KAAD,CAAb;AACD;AACF;;AAEDjB,IAAAA,UAAU,CAACkB,cAAD,EAAiB,CAAjB,CAAV;AACD,GAxBM,CAAP;AAyBD,CAhCD;;AAkCA,IAAIG,QAAQ,GAAG7B,MAAM,CAAC8B,MAAP,CAAclB,aAAd,EAA6B;AAC1CH,EAAAA,QAAQ,EAAEA;AADgC,CAA7B,CAAf;;AAIAP,OAAO,CAACE,OAAR,GAAkByB,QAAlB;AACAE,MAAM,CAAC7B,OAAP,GAAiBA,OAAO,CAACE,OAAzB;AACA2B,MAAM,CAAC7B,OAAP,CAAeE,OAAf,GAAyBF,OAAO,CAACE,OAAjC","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Used to avoid using Jest's fake timers and Date.now mocks\n// See https://github.com/TheBrainFamily/wait-for-expect/issues/4 and\n// https://github.com/TheBrainFamily/wait-for-expect/issues/12 for more info\nvar _ref = typeof window !== \"undefined\" ? window : global,\n    setTimeout = _ref.setTimeout;\n\nvar defaults = {\n  timeout: 4500,\n  interval: 50\n};\n/**\n * Waits for the expectation to pass and returns a Promise\n *\n * @param  expectation  Function  Expectation that has to complete without throwing\n * @param  timeout  Number  Maximum wait interval, 4500ms by default\n * @param  interval  Number  Wait-between-retries interval, 50ms by default\n * @return  Promise  Promise to return a callback result\n */\n\nvar waitForExpect = function waitForExpect(expectation) {\n  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaults.timeout;\n  var interval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaults.interval;\n  // eslint-disable-next-line no-param-reassign\n  if (interval < 1) interval = 1;\n  var maxTries = Math.ceil(timeout / interval);\n  var tries = 0;\n  return new Promise(function (resolve, reject) {\n    var rejectOrRerun = function rejectOrRerun(error) {\n      if (tries > maxTries) {\n        reject(error);\n        return;\n      } // eslint-disable-next-line no-use-before-define\n\n\n      setTimeout(runExpectation, interval);\n    };\n\n    function runExpectation() {\n      tries += 1;\n\n      try {\n        Promise.resolve(expectation()).then(function () {\n          return resolve();\n        }).catch(rejectOrRerun);\n      } catch (error) {\n        rejectOrRerun(error);\n      }\n    }\n\n    setTimeout(runExpectation, 0);\n  });\n};\n\nvar _default = Object.assign(waitForExpect, {\n  defaults: defaults\n});\n\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;"]},"metadata":{},"sourceType":"script"}