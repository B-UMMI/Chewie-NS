{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n  var dataProvider = _a.dataProvider,\n      history = _a.history,\n      _b = _a.customReducers,\n      customReducers = _b === void 0 ? {} : _b,\n      _c = _a.authProvider,\n      authProvider = _c === void 0 ? null : _c,\n      _d = _a.customSagas,\n      customSagas = _d === void 0 ? [] : _d,\n      initialState = _a.initialState;\n  var appReducer = createAppReducer(customReducers, history);\n\n  var resettableAppReducer = function (state, action) {\n    return appReducer(action.type !== CLEAR_STATE ? state : // Erase data from the store but keep location, notifications, ui prefs, etc.\n    __assign(__assign({}, state), {\n      admin: __assign(__assign({}, state.admin), {\n        loading: 0,\n        resources: {},\n        customQueries: {},\n        references: {\n          oneToMany: {},\n          possibleValues: {}\n        }\n      })\n    }), action);\n  };\n\n  var saga = function rootSaga() {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n\n        case 1:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  };\n\n  var sagaMiddleware = createSagaMiddleware();\n  var typedWindow = typeof window !== 'undefined' && window;\n  var composeEnhancers = process.env.NODE_ENV === 'development' && typeof typedWindow !== 'undefined' && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    trace: true,\n    traceLimit: 25\n  }) || compose;\n  var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n  sagaMiddleware.run(saga);\n  return store;\n});","map":{"version":3,"sources":["/node_modules/ra-core/esm/core/createAdminStore.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__generator","thisArg","body","_","label","sent","trys","ops","f","y","g","next","verb","Symbol","iterator","v","step","op","TypeError","done","value","pop","push","e","__spreadArrays","il","r","Array","k","a","j","jl","createStore","compose","applyMiddleware","routerMiddleware","createSagaMiddleware","all","fork","createAppReducer","adminSaga","CLEAR_STATE","_a","dataProvider","history","_b","customReducers","_c","authProvider","_d","customSagas","initialState","appReducer","resettableAppReducer","state","action","type","admin","loading","resources","customQueries","references","oneToMany","possibleValues","saga","rootSaga","map","sagaMiddleware","typedWindow","window","composeEnhancers","process","env","NODE_ENV","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","trace","traceLimit","store","run"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;\n    var appReducer = createAppReducer(customReducers, history);\n    var resettableAppReducer = function (state, action) {\n        return appReducer(action.type !== CLEAR_STATE\n            ? state\n            : // Erase data from the store but keep location, notifications, ui prefs, etc.\n             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);\n    };\n    var saga = function rootSaga() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n    var sagaMiddleware = createSagaMiddleware();\n    var typedWindow = typeof window !== 'undefined' && window;\n    var composeEnhancers = (process.env.NODE_ENV === 'development' &&\n        typeof typedWindow !== 'undefined' &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            trace: true,\n            traceLimit: 25,\n        })) ||\n        compose;\n    var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n    sagaMiddleware.run(saga);\n    return store;\n});\n"]},"metadata":{},"sourceType":"module"}