{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    form: {\n      padding: '0 1em 1em 1em'\n    },\n    input: {\n      marginTop: '1em'\n    },\n    button: {\n      width: '100%'\n    },\n    icon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n}, {\n  name: 'RaLoginForm'\n});\n\nvar Input = function (_a) {\n  var _b = _a.meta,\n      touched = _b.touched,\n      error = _b.error,\n      // eslint-disable-line react/prop-types\n  inputProps = _a.input,\n      // eslint-disable-line react/prop-types\n  props = __rest(_a, [\"meta\", \"input\"]);\n\n  return React.createElement(TextField, __assign({\n    error: !!(touched && error),\n    helperText: touched && error\n  }, inputProps, props, {\n    fullWidth: true\n  }));\n};\n\nvar LoginForm = function (props) {\n  var redirectTo = props.redirectTo;\n\n  var _a = useSafeSetState(false),\n      loading = _a[0],\n      setLoading = _a[1];\n\n  var login = useLogin();\n  var translate = useTranslate();\n  var notify = useNotify();\n  var classes = useStyles(props);\n\n  var validate = function (values) {\n    var errors = {\n      username: undefined,\n      password: undefined\n    };\n\n    if (!values.username) {\n      errors.username = translate('ra.validation.required');\n    }\n\n    if (!values.password) {\n      errors.password = translate('ra.validation.required');\n    }\n\n    return errors;\n  };\n\n  var submit = function (values) {\n    setLoading(true);\n    login(values, redirectTo).then(function () {\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n      notify(typeof error === 'string' ? error : typeof error === 'undefined' || !error.message ? 'ra.auth.sign_in_error' : error.message, 'warning');\n    });\n  };\n\n  return React.createElement(Form, {\n    onSubmit: submit,\n    validate: validate,\n    render: function (_a) {\n      var handleSubmit = _a.handleSubmit;\n      return React.createElement(\"form\", {\n        onSubmit: handleSubmit,\n        noValidate: true\n      }, React.createElement(\"div\", {\n        className: classes.form\n      }, React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        autoFocus: true,\n        id: \"username\",\n        name: \"username\",\n        component: Input,\n        label: translate('ra.auth.username'),\n        disabled: loading\n      })), React.createElement(\"div\", {\n        className: classes.input\n      }, React.createElement(Field, {\n        id: \"password\",\n        name: \"password\",\n        component: Input,\n        label: translate('ra.auth.password'),\n        type: \"password\",\n        disabled: loading,\n        autoComplete: \"current-password\"\n      }))), React.createElement(CardActions, null, React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        color: \"primary\",\n        disabled: loading,\n        className: classes.button\n      }, loading && React.createElement(CircularProgress, {\n        className: classes.icon,\n        size: 18,\n        thickness: 2\n      }), translate('ra.auth.sign_in'))));\n    }\n  });\n};\n\nLoginForm.propTypes = {\n  redirectTo: PropTypes.string\n};\nexport default LoginForm;","map":{"version":3,"sources":["/node_modules/ra-ui-materialui/esm/auth/LoginForm.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","PropTypes","Field","Form","CardActions","Button","TextField","CircularProgress","makeStyles","useTranslate","useLogin","useNotify","useSafeSetState","useStyles","theme","form","padding","input","marginTop","button","width","icon","marginRight","spacing","name","Input","_a","_b","meta","touched","error","inputProps","props","createElement","helperText","fullWidth","LoginForm","redirectTo","loading","setLoading","login","translate","notify","classes","validate","values","errors","username","undefined","password","submit","then","catch","message","onSubmit","render","handleSubmit","noValidate","className","autoFocus","id","component","label","disabled","type","autoComplete","variant","color","size","thickness","propTypes","string"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, 'warning');\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}