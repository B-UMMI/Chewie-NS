{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { LOCATION_CHANGE } from './actions';\n/**\n * Adds query to location.\n * Utilises the search prop of location to construct query.\n */\n\nvar injectQuery = function injectQuery(location) {\n  if (location && location.query) {\n    // Don't inject query if it already exists in history\n    return location;\n  }\n\n  var searchQuery = location && location.search;\n\n  if (typeof searchQuery !== 'string' || searchQuery.length === 0) {\n    return _objectSpread({}, location, {\n      query: {}\n    });\n  } // Ignore the `?` part of the search string e.g. ?username=codejockie\n\n\n  var search = searchQuery.substring(1); // Split the query string on `&` e.g. ?username=codejockie&name=Kennedy\n\n  var queries = search.split('&'); // Contruct query\n\n  var query = queries.reduce(function (acc, currentQuery) {\n    // Split on `=`, to get key and value\n    var _currentQuery$split = currentQuery.split('='),\n        _currentQuery$split2 = _slicedToArray(_currentQuery$split, 2),\n        queryKey = _currentQuery$split2[0],\n        queryValue = _currentQuery$split2[1];\n\n    return _objectSpread({}, acc, _defineProperty({}, queryKey, queryValue));\n  }, {});\n  return _objectSpread({}, location, {\n    query: query\n  });\n};\n\nvar createConnectRouter = function createConnectRouter(structure) {\n  var fromJS = structure.fromJS,\n      merge = structure.merge;\n\n  var createRouterReducer = function createRouterReducer(history) {\n    var initialRouterState = fromJS({\n      location: injectQuery(history.location),\n      action: history.action\n    });\n    /*\n    * This reducer will update the state with the most recent location history\n    * has transitioned to.\n    */\n\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialRouterState;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          type = _ref.type,\n          payload = _ref.payload;\n\n      if (type === LOCATION_CHANGE) {\n        var location = payload.location,\n            action = payload.action,\n            isFirstRendering = payload.isFirstRendering; // Don't update the state ref for the first rendering\n        // to prevent the double-rendering issue on initilization\n\n        return isFirstRendering ? state : merge(state, {\n          location: fromJS(injectQuery(location)),\n          action: action\n        });\n      }\n\n      return state;\n    };\n  };\n\n  return createRouterReducer;\n};\n\nexport default createConnectRouter;","map":{"version":3,"sources":["/node_modules/connected-react-router/esm/reducer.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","LOCATION_CHANGE","injectQuery","location","query","searchQuery","search","substring","queries","split","reduce","acc","currentQuery","_currentQuery$split","_currentQuery$split2","queryKey","queryValue","createConnectRouter","structure","fromJS","merge","createRouterReducer","history","initialRouterState","action","state","_ref","type","payload","isFirstRendering"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { LOCATION_CHANGE } from './actions';\n/**\n * Adds query to location.\n * Utilises the search prop of location to construct query.\n */\n\nvar injectQuery = function injectQuery(location) {\n  if (location && location.query) {\n    // Don't inject query if it already exists in history\n    return location;\n  }\n\n  var searchQuery = location && location.search;\n\n  if (typeof searchQuery !== 'string' || searchQuery.length === 0) {\n    return _objectSpread({}, location, {\n      query: {}\n    });\n  } // Ignore the `?` part of the search string e.g. ?username=codejockie\n\n\n  var search = searchQuery.substring(1); // Split the query string on `&` e.g. ?username=codejockie&name=Kennedy\n\n  var queries = search.split('&'); // Contruct query\n\n  var query = queries.reduce(function (acc, currentQuery) {\n    // Split on `=`, to get key and value\n    var _currentQuery$split = currentQuery.split('='),\n        _currentQuery$split2 = _slicedToArray(_currentQuery$split, 2),\n        queryKey = _currentQuery$split2[0],\n        queryValue = _currentQuery$split2[1];\n\n    return _objectSpread({}, acc, _defineProperty({}, queryKey, queryValue));\n  }, {});\n  return _objectSpread({}, location, {\n    query: query\n  });\n};\n\nvar createConnectRouter = function createConnectRouter(structure) {\n  var fromJS = structure.fromJS,\n      merge = structure.merge;\n\n  var createRouterReducer = function createRouterReducer(history) {\n    var initialRouterState = fromJS({\n      location: injectQuery(history.location),\n      action: history.action\n    });\n    /*\n    * This reducer will update the state with the most recent location history\n    * has transitioned to.\n    */\n\n    return function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialRouterState;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          type = _ref.type,\n          payload = _ref.payload;\n\n      if (type === LOCATION_CHANGE) {\n        var location = payload.location,\n            action = payload.action,\n            isFirstRendering = payload.isFirstRendering; // Don't update the state ref for the first rendering\n        // to prevent the double-rendering issue on initilization\n\n        return isFirstRendering ? state : merge(state, {\n          location: fromJS(injectQuery(location)),\n          action: action\n        });\n      }\n\n      return state;\n    };\n  };\n\n  return createRouterReducer;\n};\n\nexport default createConnectRouter;"]},"metadata":{},"sourceType":"module"}