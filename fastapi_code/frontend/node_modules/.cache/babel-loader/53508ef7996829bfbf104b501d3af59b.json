{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport Notification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    main: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh',\n      height: '1px',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n      backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)'\n    },\n    card: {\n      minWidth: 300,\n      marginTop: '6em'\n    },\n    avatar: {\n      margin: '1em',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary[500]\n    }\n  };\n}, {\n  name: 'RaLogin'\n});\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\n\nvar Login = function (props) {\n  var theme = props.theme,\n      classesOverride = props.classes,\n      className = props.className,\n      children = props.children,\n      staticContext = props.staticContext,\n      backgroundImage = props.backgroundImage,\n      rest = __rest(props, [\"theme\", \"classes\", \"className\", \"children\", \"staticContext\", \"backgroundImage\"]);\n\n  var containerRef = useRef();\n  var classes = useStyles(props);\n  var muiTheme = useMemo(function () {\n    return createMuiTheme(theme);\n  }, [theme]);\n  var backgroundImageLoaded = false;\n  var checkAuth = useCheckAuth();\n  var history = useHistory();\n  useEffect(function () {\n    checkAuth({}, false).then(function () {\n      // already authenticated, redirect to the home page\n      history.push('/');\n    }).catch(function () {// not authenticated, stay on the login page\n    });\n  }, [checkAuth, history]);\n\n  var updateBackgroundImage = function () {\n    if (!backgroundImageLoaded && containerRef.current) {\n      containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n      backgroundImageLoaded = true;\n    }\n  }; // Load background image asynchronously to speed up time to interactive\n\n\n  var lazyLoadBackgroundImage = function () {\n    if (backgroundImage) {\n      var img = new Image();\n      img.onload = updateBackgroundImage;\n      img.src = backgroundImage;\n    }\n  };\n\n  useEffect(function () {\n    if (!backgroundImageLoaded) {\n      lazyLoadBackgroundImage();\n    }\n  });\n  return React.createElement(ThemeProvider, {\n    theme: muiTheme\n  }, React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest, {\n    ref: containerRef\n  }), React.createElement(Card, {\n    className: classes.card\n  }, React.createElement(\"div\", {\n    className: classes.avatar\n  }, React.createElement(Avatar, {\n    className: classes.icon\n  }, React.createElement(LockIcon, null))), children), React.createElement(Notification, null)));\n};\n\nLogin.propTypes = {\n  backgroundImage: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  theme: PropTypes.object,\n  staticContext: PropTypes.object\n};\nLogin.defaultProps = {\n  theme: defaultTheme,\n  children: React.createElement(DefaultLoginForm, null)\n};\nexport default Login;","map":{"version":3,"sources":["/node_modules/ra-ui-materialui/esm/auth/Login.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","useRef","useEffect","useMemo","PropTypes","classnames","Card","Avatar","createMuiTheme","makeStyles","ThemeProvider","LockIcon","useHistory","useCheckAuth","defaultTheme","Notification","DefaultLoginForm","useStyles","theme","main","display","flexDirection","minHeight","height","alignItems","justifyContent","backgroundRepeat","backgroundSize","backgroundImage","card","minWidth","marginTop","avatar","margin","icon","backgroundColor","palette","secondary","name","Login","props","classesOverride","classes","className","children","staticContext","rest","containerRef","muiTheme","backgroundImageLoaded","checkAuth","history","then","push","catch","updateBackgroundImage","current","style","lazyLoadBackgroundImage","img","Image","onload","src","createElement","ref","propTypes","string","node","object","defaultProps"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport Notification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, classesOverride = props.classes, className = props.className, children = props.children, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"theme\", \"classes\", \"className\", \"children\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    var backgroundImageLoaded = false;\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(\"div\", { className: classes.avatar },\n                    React.createElement(Avatar, { className: classes.icon },\n                        React.createElement(LockIcon, null))),\n                children),\n            React.createElement(Notification, null))));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}